{
  "tasks": [
    {
      "number": "1.0",
      "name": "Rails Backend Foundation Setup",
      "description": "Initialize Rails application foundation with essential gems, configuration, and project structure",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": [],
      "files": ["Gemfile", "config/application.rb", "config/database.yml"],
      "docs_references": ["https://guides.rubyonrails.org/getting_started.html"],
      "testing_strategy": "Rails application initialization tests and gem loading verification",
      "notes": "Foundation for entire backend architecture"
    },
    {
      "number": "1.1",
      "name": "Initialize Rails 8.0 Application",
      "description": "Create new Rails 8.0 application with PostgreSQL database, skip frontend assets, configure for API-first development",
      "parent": "1.0",
      "status": "pending",
      "priority": 1,
      "dependencies": [],
      "files": ["Gemfile", "config/application.rb", "config/database.yml"],
      "docs_references": ["https://guides.rubyonrails.org/getting_started.html"],
      "testing_strategy": "Verify Rails application boots successfully and connects to PostgreSQL",
      "notes": "Use rails new qc_api --api --database=postgresql --skip-frontend"
    },
    {
      "number": "1.2",
      "name": "Configure Essential Gems",
      "description": "Add and configure core gems: devise, jwt, rack-cors, puma, bootsnap, action-cable, image_processing, active_storage",
      "parent": "1.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.1"],
      "files": ["Gemfile", "config/initializers/cors.rb", "config/initializers/devise.rb"],
      "docs_references": ["https://github.com/heartcombo/devise", "https://github.com/cyu/rack-cors"],
      "testing_strategy": "Verify gem loading and basic configuration functionality",
      "notes": "Focus on authentication, CORS, and real-time communication capabilities"
    },
    {
      "number": "1.3",
      "name": "Database Configuration",
      "description": "Configure PostgreSQL database settings for development, test, and production environments with connection pooling",
      "parent": "1.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.1"],
      "files": ["config/database.yml", "config/application.rb"],
      "docs_references": ["https://guides.rubyonrails.org/configuring.html#configuring-a-database"],
      "testing_strategy": "Test database connections across all environments",
      "notes": "Ensure proper connection pooling for concurrent users"
    },
    {
      "number": "1.4",
      "name": "Environment Configuration",
      "description": "Set up environment variables, credentials management, and configuration for development/production environments",
      "parent": "1.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.1"],
      "files": ["config/credentials.yml.enc", ".env.development", "config/environments/production.rb"],
      "docs_references": ["https://guides.rubyonrails.org/security.html#custom-credentials"],
      "testing_strategy": "Verify environment variable loading and credential access",
      "notes": "Secure handling of API keys, database URLs, and JWT secrets"
    },
    {
      "number": "2.0",
      "name": "Database Schema and Models",
      "description": "Create comprehensive database schema and ActiveRecord models matching Next.js application data structure",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.0"],
      "files": ["db/migrate/", "app/models/"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_migrations.html"],
      "testing_strategy": "Model validation tests, association tests, and database constraint verification",
      "notes": "Must match TypeScript interfaces from current application"
    },
    {
      "number": "2.1",
      "name": "Core User and Authentication Models",
      "description": "Create User, Couple models with Devise authentication, establish relationship associations",
      "parent": "2.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.2"],
      "files": ["app/models/user.rb", "app/models/couple.rb", "db/migrate/001_devise_create_users.rb"],
      "docs_references": ["https://github.com/heartcombo/devise#getting-started"],
      "testing_strategy": "User authentication tests, couple association validation, devise helper tests",
      "notes": "User model should include partner_id, couple model handles two users"
    },
    {
      "number": "2.2",
      "name": "Category and Prompt Models",
      "description": "Create Category, PromptTemplate, CustomPrompt models with hierarchical relationships and ordering",
      "parent": "2.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.1"],
      "files": ["app/models/category.rb", "app/models/prompt_template.rb", "app/models/custom_prompt.rb"],
      "docs_references": ["https://guides.rubyonrails.org/association_basics.html"],
      "testing_strategy": "Category validation tests, prompt template usage tracking, custom prompt ordering",
      "notes": "Categories have default system categories plus user-custom categories"
    },
    {
      "number": "2.3",
      "name": "CheckIn Session Models",
      "description": "Create CheckIn, Note, ActionItem models with complex state management and privacy controls",
      "parent": "2.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.1", "2.2"],
      "files": ["app/models/check_in.rb", "app/models/note.rb", "app/models/action_item.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_validations.html"],
      "testing_strategy": "CheckIn state machine tests, note privacy validation, action item completion tracking",
      "notes": "Notes have three privacy levels: private, shared, draft. CheckIn tracks session progress"
    },
    {
      "number": "2.4",
      "name": "Love Languages Models",
      "description": "Create LoveLanguage, LoveAction, LoveLanguageDiscovery models with category and importance tracking",
      "parent": "2.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.1"],
      "files": ["app/models/love_language.rb", "app/models/love_action.rb", "app/models/love_language_discovery.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_validations.html"],
      "testing_strategy": "Love language validation tests, action completion tracking, discovery conversion tests",
      "notes": "Love languages are user-specific with privacy controls and importance levels"
    },
    {
      "number": "2.5",
      "name": "Reminder and Request Models",
      "description": "Create Reminder, RelationshipRequest models with scheduling, frequency, and status management",
      "parent": "2.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.1"],
      "files": ["app/models/reminder.rb", "app/models/relationship_request.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_validations.html"],
      "testing_strategy": "Reminder scheduling tests, request status workflow validation, notification channel tests",
      "notes": "Complex scheduling with custom frequencies and notification preferences"
    },
    {
      "number": "2.6",
      "name": "Session Settings and Milestone Models",
      "description": "Create SessionSettings, SessionSettingsProposal, Milestone models for customization and achievement tracking",
      "parent": "2.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.1"],
      "files": ["app/models/session_settings.rb", "app/models/session_settings_proposal.rb", "app/models/milestone.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_validations.html"],
      "testing_strategy": "Settings proposal workflow tests, milestone achievement validation, template application tests",
      "notes": "Session settings allow partner negotiation before application"
    },
    {
      "number": "2.7",
      "name": "Database Indexes and Constraints",
      "description": "Add database indexes for performance, foreign key constraints, and unique constraints for data integrity",
      "parent": "2.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.1", "2.2", "2.3", "2.4", "2.5", "2.6"],
      "files": ["db/migrate/", "config/application.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_migrations.html#adding-indexes"],
      "testing_strategy": "Query performance tests, constraint violation tests, index usage verification",
      "notes": "Focus on frequently queried fields: user_id, couple_id, created_at, status"
    },
    {
      "number": "3.0",
      "name": "Authentication and Authorization",
      "description": "Implement JWT-based authentication with Devise, role-based authorization, and security middleware",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.0"],
      "files": ["app/controllers/application_controller.rb", "app/controllers/auth/"],
      "docs_references": ["https://github.com/waiting-for-dev/devise-jwt"],
      "testing_strategy": "Authentication flow tests, JWT token validation, authorization boundary tests",
      "notes": "Couples should only access their own data, partners can see shared content"
    },
    {
      "number": "3.1",
      "name": "JWT Authentication Setup",
      "description": "Configure Devise with JWT tokens, implement token generation, validation, and refresh mechanisms",
      "parent": "3.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["1.2", "2.1"],
      "files": ["config/initializers/devise.rb", "app/models/jwt_denylist.rb", "app/controllers/auth/sessions_controller.rb"],
      "docs_references": ["https://github.com/waiting-for-dev/devise-jwt"],
      "testing_strategy": "Token generation tests, expiration handling, refresh token validation",
      "notes": "Implement token denylist for logout, set appropriate expiration times"
    },
    {
      "number": "3.2",
      "name": "Authorization Middleware",
      "description": "Create authorization concern for couple-based access control, implement current_user and current_couple helpers",
      "parent": "3.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["3.1"],
      "files": ["app/controllers/concerns/authenticatable.rb", "app/controllers/application_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html#filters"],
      "testing_strategy": "Access control tests, unauthorized access prevention, couple isolation verification",
      "notes": "Ensure users can only access data for their couple relationship"
    },
    {
      "number": "3.3",
      "name": "Registration and Login Controllers",
      "description": "Create custom Devise controllers for registration, login, logout with proper JSON responses",
      "parent": "3.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["3.1"],
      "files": ["app/controllers/auth/registrations_controller.rb", "app/controllers/auth/sessions_controller.rb"],
      "docs_references": ["https://github.com/heartcombo/devise#configuring-controllers"],
      "testing_strategy": "Registration flow tests, login validation, proper error response formatting",
      "notes": "Handle couple creation during registration, partner invitation flow"
    },
    {
      "number": "4.0",
      "name": "Core API Controllers",
      "description": "Implement RESTful API controllers for all major resources with proper serialization and error handling",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["3.0"],
      "files": ["app/controllers/api/v1/"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "API endpoint tests, response format validation, error handling verification",
      "notes": "All endpoints should return consistent JSON format with proper HTTP status codes"
    },
    {
      "number": "4.1",
      "name": "Categories and Prompts API",
      "description": "Create API controllers for categories, prompt templates, and custom prompts with CRUD operations",
      "parent": "4.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.2", "3.2"],
      "files": ["app/controllers/api/v1/categories_controller.rb", "app/controllers/api/v1/prompt_templates_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "CRUD operation tests, category ordering validation, prompt template usage tracking",
      "notes": "System categories are read-only, custom categories allow full CRUD for couple"
    },
    {
      "number": "4.2",
      "name": "CheckIn Session API",
      "description": "Create CheckIn controller with session state management, progress tracking, and concurrent user handling",
      "parent": "4.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.3", "3.2"],
      "files": ["app/controllers/api/v1/check_ins_controller.rb", "app/controllers/api/v1/notes_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Session state tests, concurrent user access, progress tracking validation",
      "notes": "Handle real-time session updates, session timeouts, and progress persistence"
    },
    {
      "number": "4.3",
      "name": "Notes Management API",
      "description": "Create Notes controller with privacy controls, search functionality, and tagging support",
      "parent": "4.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.3", "3.2"],
      "files": ["app/controllers/api/v1/notes_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Privacy level enforcement tests, search functionality, tag management validation",
      "notes": "Private notes only visible to author, shared notes visible to both partners"
    },
    {
      "number": "4.4",
      "name": "Love Languages API",
      "description": "Create Love Languages and Love Actions controllers with discovery tracking and action completion",
      "parent": "4.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.4", "3.2"],
      "files": ["app/controllers/api/v1/love_languages_controller.rb", "app/controllers/api/v1/love_actions_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Love language validation tests, action completion tracking, discovery conversion tests",
      "notes": "Track action completions, handle recurring actions, manage discovery-to-language conversion"
    },
    {
      "number": "4.5",
      "name": "Reminders and Requests API",
      "description": "Create Reminders and Relationship Requests controllers with scheduling and status management",
      "parent": "4.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.5", "3.2"],
      "files": ["app/controllers/api/v1/reminders_controller.rb", "app/controllers/api/v1/relationship_requests_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Reminder scheduling tests, request workflow validation, status transition tests",
      "notes": "Handle complex scheduling logic, request approval/decline workflows"
    },
    {
      "number": "4.6",
      "name": "Session Settings API",
      "description": "Create Session Settings controller with proposal workflow and template management",
      "parent": "4.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.6", "3.2"],
      "files": ["app/controllers/api/v1/session_settings_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Settings proposal workflow tests, template application validation, agreement tracking",
      "notes": "Handle partner approval workflow before settings take effect"
    },
    {
      "number": "4.7",
      "name": "Dashboard and Analytics API",
      "description": "Create dashboard controller with relationship statistics, streak tracking, and milestone progress",
      "parent": "4.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.0", "3.2"],
      "files": ["app/controllers/api/v1/dashboard_controller.rb", "app/controllers/api/v1/milestones_controller.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html"],
      "testing_strategy": "Statistics calculation tests, streak tracking validation, milestone achievement tests",
      "notes": "Aggregate data across check-ins, calculate streaks, track milestone progress"
    },
    {
      "number": "5.0",
      "name": "API Serialization and Validation",
      "description": "Implement JSON serializers and request validation for consistent API responses and data integrity",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.0"],
      "files": ["app/serializers/", "app/validators/"],
      "docs_references": ["https://github.com/jsonapi-serializer/jsonapi-serializer"],
      "testing_strategy": "Serialization format tests, validation rule verification, error response consistency",
      "notes": "Ensure API responses match frontend TypeScript interfaces exactly"
    },
    {
      "number": "5.1",
      "name": "Core Model Serializers",
      "description": "Create serializers for User, Couple, Category, CheckIn with proper attribute exposure and relationships",
      "parent": "5.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.1", "4.2"],
      "files": ["app/serializers/user_serializer.rb", "app/serializers/couple_serializer.rb", "app/serializers/category_serializer.rb"],
      "docs_references": ["https://github.com/jsonapi-serializer/jsonapi-serializer"],
      "testing_strategy": "Serialization output tests, relationship inclusion validation, performance optimization",
      "notes": "Match TypeScript interfaces exactly, handle nested relationships efficiently"
    },
    {
      "number": "5.2",
      "name": "Notes and Privacy Serializers",
      "description": "Create serializers for Notes with privacy-aware attribute exposure based on user context",
      "parent": "5.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.3"],
      "files": ["app/serializers/note_serializer.rb"],
      "docs_references": ["https://github.com/jsonapi-serializer/jsonapi-serializer"],
      "testing_strategy": "Privacy level enforcement tests, conditional attribute exposure validation",
      "notes": "Private notes should only expose content to author, shared notes to both partners"
    },
    {
      "number": "5.3",
      "name": "Request Validation and Strong Parameters",
      "description": "Implement strong parameters and validation for all API endpoints with comprehensive error messages",
      "parent": "5.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.0"],
      "files": ["app/controllers/concerns/validatable.rb", "app/validators/"],
      "docs_references": ["https://guides.rubyonrails.org/action_controller_overview.html#strong-parameters"],
      "testing_strategy": "Parameter validation tests, error message format verification, boundary condition testing",
      "notes": "Provide clear, actionable validation error messages for frontend consumption"
    },
    {
      "number": "6.0",
      "name": "Real-time Features with Action Cable",
      "description": "Implement WebSocket connections for real-time check-in sessions, notifications, and partner presence",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["4.0"],
      "files": ["app/channels/", "config/cable.yml"],
      "docs_references": ["https://guides.rubyonrails.org/action_cable_overview.html"],
      "testing_strategy": "WebSocket connection tests, real-time message delivery, presence tracking validation",
      "notes": "Essential for synchronized check-in sessions between partners"
    },
    {
      "number": "6.1",
      "name": "CheckIn Session Channel",
      "description": "Create Action Cable channel for real-time check-in session synchronization between partners",
      "parent": "6.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.2"],
      "files": ["app/channels/check_in_session_channel.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_cable_overview.html"],
      "testing_strategy": "Real-time session update tests, partner synchronization validation, connection handling",
      "notes": "Synchronize session progress, note updates, and turn-based communication"
    },
    {
      "number": "6.2",
      "name": "Presence and Typing Indicators",
      "description": "Implement partner presence tracking and typing indicators for enhanced real-time experience",
      "parent": "6.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["6.1"],
      "files": ["app/channels/presence_channel.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_cable_overview.html"],
      "testing_strategy": "Presence detection tests, typing indicator accuracy, connection state management",
      "notes": "Show when partner is online, typing, or has stepped away from session"
    },
    {
      "number": "6.3",
      "name": "Notification Channel",
      "description": "Create notification channel for real-time reminders, requests, and system notifications",
      "parent": "6.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["4.5"],
      "files": ["app/channels/notification_channel.rb"],
      "docs_references": ["https://guides.rubyonrails.org/action_cable_overview.html"],
      "testing_strategy": "Notification delivery tests, channel subscription management, message persistence",
      "notes": "Handle reminder notifications, relationship requests, and milestone achievements"
    },
    {
      "number": "7.0",
      "name": "Background Job Processing",
      "description": "Implement background job processing for notifications, reminders, and data processing using Sidekiq",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["5.0"],
      "files": ["app/jobs/", "config/schedule.rb"],
      "docs_references": ["https://github.com/mperham/sidekiq"],
      "testing_strategy": "Job execution tests, scheduling validation, error handling verification",
      "notes": "Handle time-sensitive operations like reminder delivery and milestone calculation"
    },
    {
      "number": "7.1",
      "name": "Reminder Processing Jobs",
      "description": "Create background jobs for processing scheduled reminders and notification delivery",
      "parent": "7.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["4.5"],
      "files": ["app/jobs/reminder_processor_job.rb", "app/jobs/notification_delivery_job.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_job_basics.html"],
      "testing_strategy": "Reminder scheduling tests, notification delivery validation, failure retry logic",
      "notes": "Process complex reminder schedules, handle delivery failures with retries"
    },
    {
      "number": "7.2",
      "name": "Analytics and Milestone Jobs",
      "description": "Create jobs for calculating relationship statistics, streak tracking, and milestone achievement detection",
      "parent": "7.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["4.7"],
      "files": ["app/jobs/analytics_processor_job.rb", "app/jobs/milestone_detector_job.rb"],
      "docs_references": ["https://guides.rubyonrails.org/active_job_basics.html"],
      "testing_strategy": "Statistics calculation tests, milestone detection accuracy, performance optimization",
      "notes": "Run nightly to update statistics and detect new milestone achievements"
    },
    {
      "number": "8.0",
      "name": "React Frontend Setup",
      "description": "Initialize React 18+ application with TypeScript, Vite, and essential development tools",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.0"],
      "files": ["package.json", "vite.config.ts", "tsconfig.json"],
      "docs_references": ["https://vitejs.dev/guide/", "https://react.dev/"],
      "testing_strategy": "Build process validation, TypeScript compilation, development server functionality",
      "notes": "Replace Next.js with Vite + React for better development experience with Rails API"
    },
    {
      "number": "8.1",
      "name": "Create React Application with Vite",
      "description": "Initialize new React application using Vite with TypeScript template and configure build tools",
      "parent": "8.0",
      "status": "pending",
      "priority": 1,
      "dependencies": [],
      "files": ["package.json", "vite.config.ts", "index.html"],
      "docs_references": ["https://vitejs.dev/guide/"],
      "testing_strategy": "Verify application builds and runs successfully in development and production modes",
      "notes": "Use npm create vite@latest qc-frontend -- --template react-ts"
    },
    {
      "number": "8.2",
      "name": "Configure TypeScript and ESLint",
      "description": "Set up TypeScript configuration, ESLint rules, and Prettier formatting for code quality",
      "parent": "8.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.1"],
      "files": ["tsconfig.json", ".eslintrc.json", ".prettierrc"],
      "docs_references": ["https://www.typescriptlang.org/docs/", "https://eslint.org/docs/"],
      "testing_strategy": "Verify TypeScript compilation, linting rules enforcement, code formatting consistency",
      "notes": "Match TypeScript interfaces from original Next.js application"
    },
    {
      "number": "8.3",
      "name": "Install and Configure UI Dependencies",
      "description": "Install and configure Tailwind CSS, Radix UI components, Framer Motion, and other UI libraries",
      "parent": "8.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.1"],
      "files": ["tailwind.config.js", "postcss.config.js", "src/index.css"],
      "docs_references": ["https://tailwindcss.com/docs/installation", "https://www.radix-ui.com/docs"],
      "testing_strategy": "Verify UI component rendering, style compilation, animation functionality",
      "notes": "Maintain exact same UI library versions for consistency with original design"
    },
    {
      "number": "8.4",
      "name": "Configure React Router",
      "description": "Set up React Router for client-side routing matching original Next.js application structure",
      "parent": "8.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.1"],
      "files": ["src/App.tsx", "src/routes.tsx"],
      "docs_references": ["https://reactrouter.com/en/main"],
      "testing_strategy": "Verify routing functionality, protected routes, navigation behavior",
      "notes": "Map all existing Next.js routes to React Router equivalent"
    },
    {
      "number": "9.0",
      "name": "API Integration Layer",
      "description": "Create HTTP client and API integration layer for seamless communication with Rails backend",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.0"],
      "files": ["src/api/", "src/types/"],
      "docs_references": ["https://axios-http.com/docs/intro"],
      "testing_strategy": "API client tests, error handling validation, authentication flow verification",
      "notes": "Replace localStorage persistence with Rails API calls"
    },
    {
      "number": "9.1",
      "name": "HTTP Client Configuration",
      "description": "Set up Axios HTTP client with authentication interceptors, error handling, and base configuration",
      "parent": "9.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.1"],
      "files": ["src/api/client.ts", "src/api/interceptors.ts"],
      "docs_references": ["https://axios-http.com/docs/interceptors"],
      "testing_strategy": "Authentication flow tests, error handling validation, request/response transformation",
      "notes": "Handle JWT token attachment, refresh logic, and error response formatting"
    },
    {
      "number": "9.2",
      "name": "API Service Layer",
      "description": "Create service classes for each major resource (CheckIn, Notes, Categories, etc.) with CRUD operations",
      "parent": "9.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["9.1"],
      "files": ["src/api/services/", "src/api/types.ts"],
      "docs_references": ["https://axios-http.com/docs/intro"],
      "testing_strategy": "Service method tests, data transformation validation, error handling verification",
      "notes": "Match existing TypeScript interfaces exactly for seamless frontend migration"
    },
    {
      "number": "9.3",
      "name": "Authentication Service",
      "description": "Implement authentication service with login, logout, registration, and token management",
      "parent": "9.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["9.1"],
      "files": ["src/api/auth.ts", "src/hooks/useAuth.ts"],
      "docs_references": ["https://jwt.io/introduction/"],
      "testing_strategy": "Authentication flow tests, token storage validation, logout cleanup verification",
      "notes": "Handle JWT token storage, automatic refresh, and secure logout"
    },
    {
      "number": "10.0",
      "name": "State Management Migration",
      "description": "Migrate React Context providers to work with Rails API instead of localStorage",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["9.0"],
      "files": ["src/contexts/", "src/hooks/"],
      "docs_references": ["https://react.dev/reference/react/useContext"],
      "testing_strategy": "Context provider tests, state persistence validation, API integration verification",
      "notes": "Maintain exact same component interfaces while changing data source"
    },
    {
      "number": "10.1",
      "name": "Authentication Context Migration",
      "description": "Update authentication context to use Rails API instead of mock data and localStorage",
      "parent": "10.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["9.3"],
      "files": ["src/contexts/AuthContext.tsx", "src/hooks/useAuth.ts"],
      "docs_references": ["https://react.dev/reference/react/useContext"],
      "testing_strategy": "Authentication state tests, login/logout flow validation, token management verification",
      "notes": "Replace mock authentication with real JWT-based authentication from Rails"
    },
    {
      "number": "10.2",
      "name": "CheckIn Context Migration",
      "description": "Update CheckIn context to persist session state to Rails API with real-time synchronization",
      "parent": "10.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["9.2", "6.1"],
      "files": ["src/contexts/CheckInContext.tsx", "src/hooks/useCheckIn.ts"],
      "docs_references": ["https://react.dev/reference/react/useReducer"],
      "testing_strategy": "Session state tests, real-time synchronization validation, persistence verification",
      "notes": "Integrate WebSocket connection for real-time partner synchronization"
    },
    {
      "number": "10.3",
      "name": "Data Context Migrations",
      "description": "Update remaining contexts (LoveLanguages, SessionSettings, Bookends) to use Rails API",
      "parent": "10.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["9.2"],
      "files": ["src/contexts/LoveLanguagesContext.tsx", "src/contexts/SessionSettingsContext.tsx"],
      "docs_references": ["https://react.dev/reference/react/useContext"],
      "testing_strategy": "Context functionality tests, API integration validation, data consistency verification",
      "notes": "Remove localStorage dependencies, implement proper API error handling"
    },
    {
      "number": "11.0",
      "name": "Component Migration",
      "description": "Migrate existing React components to work with Rails API data and real-time updates",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["10.0"],
      "files": ["src/components/"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "Component rendering tests, API integration validation, user interaction verification",
      "notes": "Maintain exact same UI/UX while changing data source from localStorage to Rails API"
    },
    {
      "number": "11.1",
      "name": "Authentication Components",
      "description": "Update login, registration, and authentication-related components for Rails API integration",
      "parent": "11.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["10.1"],
      "files": ["src/components/auth/", "src/pages/Login.tsx"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "Authentication flow tests, form validation, error handling verification",
      "notes": "Replace mock authentication with real login/registration forms"
    },
    {
      "number": "11.2",
      "name": "CheckIn Flow Components",
      "description": "Update check-in session components for real-time API synchronization and WebSocket integration",
      "parent": "11.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["10.2"],
      "files": ["src/components/checkin/", "src/pages/CheckIn.tsx"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "Session flow tests, real-time synchronization validation, component state management",
      "notes": "Integrate WebSocket updates for real-time partner synchronization"
    },
    {
      "number": "11.3",
      "name": "Dashboard and Navigation",
      "description": "Update dashboard widgets and navigation components to fetch data from Rails API",
      "parent": "11.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["10.3"],
      "files": ["src/components/dashboard/", "src/components/layout/"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "Dashboard data loading tests, navigation functionality, widget updates verification",
      "notes": "Replace mock statistics with real data from Rails analytics endpoints"
    },
    {
      "number": "11.4",
      "name": "Notes and Content Management",
      "description": "Update notes, love languages, and content management components for API integration",
      "parent": "11.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["10.3"],
      "files": ["src/components/notes/", "src/components/love-languages/"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "CRUD operation tests, privacy level enforcement, search functionality validation",
      "notes": "Implement proper privacy controls and search functionality with Rails API"
    },
    {
      "number": "12.0",
      "name": "Real-time Frontend Integration",
      "description": "Integrate WebSocket connections and real-time features in React components",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["11.0", "6.0"],
      "files": ["src/hooks/useWebSocket.ts", "src/services/websocket.ts"],
      "docs_references": ["https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API"],
      "testing_strategy": "WebSocket connection tests, real-time update validation, connection handling verification",
      "notes": "Essential for synchronized check-in sessions and live notifications"
    },
    {
      "number": "12.1",
      "name": "WebSocket Client Setup",
      "description": "Create WebSocket client for Action Cable integration with connection management and reconnection logic",
      "parent": "12.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["6.1"],
      "files": ["src/services/websocket.ts", "src/hooks/useWebSocket.ts"],
      "docs_references": ["https://guides.rubyonrails.org/action_cable_overview.html#client-side-components"],
      "testing_strategy": "Connection establishment tests, reconnection logic validation, message handling verification",
      "notes": "Handle authentication, automatic reconnection, and graceful fallbacks"
    },
    {
      "number": "12.2",
      "name": "Real-time CheckIn Integration",
      "description": "Integrate WebSocket updates in check-in components for live partner synchronization",
      "parent": "12.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["12.1", "11.2"],
      "files": ["src/components/checkin/SessionSync.tsx", "src/hooks/useSessionSync.ts"],
      "docs_references": ["https://react.dev/reference/react/useEffect"],
      "testing_strategy": "Real-time synchronization tests, conflict resolution validation, presence indication verification",
      "notes": "Show partner presence, typing indicators, and live session progress updates"
    },
    {
      "number": "12.3",
      "name": "Notification System Integration",
      "description": "Implement real-time notification display and management with WebSocket integration",
      "parent": "12.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["12.1", "6.3"],
      "files": ["src/components/notifications/", "src/hooks/useNotifications.ts"],
      "docs_references": ["https://react.dev/reference/react"],
      "testing_strategy": "Notification delivery tests, display logic validation, interaction handling verification",
      "notes": "Handle reminders, requests, and milestone notifications with proper UI feedback"
    },
    {
      "number": "13.0",
      "name": "Testing Infrastructure",
      "description": "Set up comprehensive testing infrastructure for both Rails API and React frontend",
      "parent": null,
      "status": "pending",
      "priority": 1,
      "dependencies": ["11.0"],
      "files": ["spec/", "src/__tests__/", "jest.config.js"],
      "docs_references": ["https://rspec.info/", "https://jestjs.io/docs/getting-started"],
      "testing_strategy": "Test framework setup, coverage reporting, CI/CD integration",
      "notes": "Ensure high test coverage for critical relationship data and user flows"
    },
    {
      "number": "13.1",
      "name": "Rails API Testing Setup",
      "description": "Configure RSpec, FactoryBot, and testing gems for comprehensive Rails API testing",
      "parent": "13.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["4.0"],
      "files": ["spec/rails_helper.rb", "spec/factories/", "Gemfile"],
      "docs_references": ["https://rspec.info/", "https://github.com/thoughtbot/factory_bot"],
      "testing_strategy": "Model tests, controller tests, request specs, and integration tests",
      "notes": "Test authentication, authorization, and all API endpoints thoroughly"
    },
    {
      "number": "13.2",
      "name": "React Testing Configuration",
      "description": "Set up Jest, React Testing Library, and testing utilities for React component testing",
      "parent": "13.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["8.0"],
      "files": ["jest.config.js", "src/test-utils/", "src/setupTests.ts"],
      "docs_references": ["https://testing-library.com/docs/react-testing-library/intro/"],
      "testing_strategy": "Component tests, integration tests, API mocking, user interaction tests",
      "notes": "Mock API calls, WebSocket connections, and browser APIs for testing"
    },
    {
      "number": "13.3",
      "name": "End-to-End Testing",
      "description": "Set up Playwright for end-to-end testing of complete user workflows",
      "parent": "13.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["12.0"],
      "files": ["e2e/", "playwright.config.ts"],
      "docs_references": ["https://playwright.dev/docs/intro"],
      "testing_strategy": "Full user journey tests, authentication flows, check-in session completion",
      "notes": "Test critical user paths: registration, check-in completion, partner interaction"
    },
    {
      "number": "14.0",
      "name": "Data Migration and Seeding",
      "description": "Create data migration scripts and seed data for development and testing environments",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.0"],
      "files": ["db/seeds.rb", "db/migrate/", "lib/tasks/"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_migrations.html"],
      "testing_strategy": "Migration execution tests, seed data validation, rollback verification",
      "notes": "Migrate existing localStorage data structure to Rails database"
    },
    {
      "number": "14.1",
      "name": "Database Seed Data",
      "description": "Create comprehensive seed data including demo users, categories, and sample check-in data",
      "parent": "14.0",
      "status": "pending",
      "priority": 1,
      "dependencies": ["2.7"],
      "files": ["db/seeds.rb", "db/seeds/"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_migrations.html#migrations-and-seed-data"],
      "testing_strategy": "Seed data creation tests, data integrity validation, environment-specific seeding",
      "notes": "Include Alex & Jordan demo couple with realistic relationship data"
    },
    {
      "number": "14.2",
      "name": "Data Import Tools",
      "description": "Create tools to import existing localStorage data from Next.js application to Rails database",
      "parent": "14.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["14.1"],
      "files": ["lib/tasks/import_data.rake", "app/services/data_importer.rb"],
      "docs_references": ["https://guides.rubyonrails.org/command_line.html#custom-rake-tasks"],
      "testing_strategy": "Data import validation, transformation accuracy, error handling verification",
      "notes": "Handle localStorage JSON structure conversion to Rails model format"
    },
    {
      "number": "15.0",
      "name": "Performance Optimization",
      "description": "Optimize application performance including database queries, API responses, and frontend rendering",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["13.0"],
      "files": ["config/", "src/", "app/"],
      "docs_references": ["https://guides.rubyonrails.org/caching_with_rails.html"],
      "testing_strategy": "Performance benchmark tests, load testing, memory usage monitoring",
      "notes": "Ensure app performs well with multiple concurrent couple sessions"
    },
    {
      "number": "15.1",
      "name": "Database Query Optimization",
      "description": "Optimize database queries with proper indexing, eager loading, and query analysis",
      "parent": "15.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["2.7"],
      "files": ["app/models/", "db/migrate/", "config/database.yml"],
      "docs_references": ["https://guides.rubyonrails.org/active_record_querying.html"],
      "testing_strategy": "Query performance tests, N+1 query detection, index usage verification",
      "notes": "Focus on check-in session queries and dashboard statistics calculations"
    },
    {
      "number": "15.2",
      "name": "API Response Caching",
      "description": "Implement caching strategies for API responses and expensive operations",
      "parent": "15.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["4.0"],
      "files": ["config/environments/production.rb", "app/controllers/concerns/cacheable.rb"],
      "docs_references": ["https://guides.rubyonrails.org/caching_with_rails.html"],
      "testing_strategy": "Cache hit/miss tests, cache invalidation validation, performance improvement verification",
      "notes": "Cache dashboard statistics, category lists, and user preferences"
    },
    {
      "number": "15.3",
      "name": "Frontend Performance",
      "description": "Optimize React application with code splitting, lazy loading, and bundle optimization",
      "parent": "15.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["11.0"],
      "files": ["vite.config.ts", "src/", "package.json"],
      "docs_references": ["https://vitejs.dev/guide/build.html"],
      "testing_strategy": "Bundle size analysis, loading time measurement, Core Web Vitals monitoring",
      "notes": "Maintain mobile-first performance with fast initial loads"
    },
    {
      "number": "16.0",
      "name": "Deployment and DevOps",
      "description": "Set up deployment pipeline, environment configuration, and monitoring for production",
      "parent": null,
      "status": "pending",
      "priority": 2,
      "dependencies": ["15.0"],
      "files": ["Dockerfile", ".github/workflows/", "config/"],
      "docs_references": ["https://guides.rubyonrails.org/configuring.html"],
      "testing_strategy": "Deployment process tests, environment validation, health check verification",
      "notes": "Prepare for production deployment with proper monitoring and error tracking"
    },
    {
      "number": "16.1",
      "name": "Production Environment Setup",
      "description": "Configure production environment with proper security, logging, and performance settings",
      "parent": "16.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["15.2"],
      "files": ["config/environments/production.rb", "config/puma.rb", "config/database.yml"],
      "docs_references": ["https://guides.rubyonrails.org/configuring.html"],
      "testing_strategy": "Production configuration tests, security setting validation, performance verification",
      "notes": "Configure SSL, security headers, database pooling, and logging"
    },
    {
      "number": "16.2",
      "name": "CI/CD Pipeline",
      "description": "Set up continuous integration and deployment pipeline with automated testing",
      "parent": "16.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["13.3"],
      "files": [".github/workflows/", "Dockerfile", "docker-compose.yml"],
      "docs_references": ["https://docs.github.com/en/actions"],
      "testing_strategy": "Pipeline execution tests, deployment verification, rollback testing",
      "notes": "Include Rails tests, React tests, and E2E tests in CI pipeline"
    },
    {
      "number": "16.3",
      "name": "Monitoring and Error Tracking",
      "description": "Set up application monitoring, error tracking, and logging for production environment",
      "parent": "16.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["16.1"],
      "files": ["config/initializers/", "Gemfile"],
      "docs_references": ["https://guides.rubyonrails.org/debugging_rails_applications.html"],
      "testing_strategy": "Error reporting tests, monitoring setup validation, alert configuration verification",
      "notes": "Monitor relationship data integrity, session performance, and user experience"
    },
    {
      "number": "17.0",
      "name": "Documentation and Training",
      "description": "Create comprehensive documentation for the new Rails+React architecture",
      "parent": null,
      "status": "pending",
      "priority": 3,
      "dependencies": ["16.0"],
      "files": ["README.md", "docs/", "API_DOCS.md"],
      "docs_references": ["https://guides.rubyonrails.org/api_documentation_guidelines.html"],
      "testing_strategy": "Documentation accuracy verification, setup instruction validation",
      "notes": "Document migration process, new architecture, and development workflows"
    },
    {
      "number": "17.1",
      "name": "API Documentation",
      "description": "Generate comprehensive API documentation with request/response examples and authentication details",
      "parent": "17.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["5.0"],
      "files": ["docs/api/", "config/routes.rb"],
      "docs_references": ["https://swagger.io/tools/swagger-ui/"],
      "testing_strategy": "Documentation completeness verification, example accuracy validation",
      "notes": "Include authentication flows, WebSocket endpoints, and error response formats"
    },
    {
      "number": "17.2",
      "name": "Development Setup Guide",
      "description": "Create step-by-step development environment setup guide for new team members",
      "parent": "17.0",
      "status": "pending",
      "priority": 2,
      "dependencies": ["16.2"],
      "files": ["DEVELOPMENT.md", "CONTRIBUTING.md"],
      "docs_references": ["https://guides.rubyonrails.org/contributing_to_ruby_on_rails.html"],
      "testing_strategy": "Setup instruction validation, development workflow verification",
      "notes": "Include database setup, API configuration, and React development server"
    },
    {
      "number": "17.3",
      "name": "Architecture Decision Records",
      "description": "Document key architectural decisions, trade-offs, and migration rationale",
      "parent": "17.0",
      "status": "pending",
      "priority": 3,
      "dependencies": ["17.1"],
      "files": ["docs/architecture/", "docs/decisions/"],
      "docs_references": ["https://adr.github.io/"],
      "testing_strategy": "Documentation completeness review, decision rationale validation",
      "notes": "Document Next.js to Rails migration reasoning, technology choices, and future considerations"
    }
  ]
}